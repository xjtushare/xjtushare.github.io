<!DOCTYPE html><html lang="zh-Hans"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=0.5"><link rel="stylesheet" href="/css/post.css"><link rel="icon" href="/img/favicon.png"><title>611. 有效三角形的个数</title><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="blog" type="application/atom+xml">
</head><body>　　<div class="inner"><h2>611. 有效三角形的个数</h2><p><strong>一、题目描述：</strong></p>
<p>给定一个包含非负整数的数组，你的任务是统计其中可以组成三角形三条边的三元组个数。</p>
<p>示例 1:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输入: [2,2,3,4]</span><br><span class="line">输出: 3</span><br><span class="line">解释:</span><br><span class="line">有效的组合是: </span><br><span class="line">2,3,4 (使用第一个 2)</span><br><span class="line">2,3,4 (使用第二个 2)</span><br><span class="line">2,2,3</span><br></pre></td></tr></table></figure>

<p>注意:</p>
<ul>
<li>数组长度不超过1000。</li>
<li>数组里整数的范围为 [0, 1000]。</li>
</ul>
<p><strong>二、思路分析：</strong></p>
<ul>
<li><p>组成三角形条件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">任意的两边之和大于第三边</span><br></pre></td></tr></table></figure></li>
<li><p><em>我的思路</em>*</p>
</li>
<li><p>对数组排序，比如[2,3,4,5,6]，一开始第三边为数组最后一个数 a= nums.length-1;另外两个指针，left=0；right=nums.length-2;<br>nums[left]=2; nums[right]=5</p>
</li>
<li><p>考察l到r的数是否满足两边之和大于第三边；<br>如果2+5&gt;6,那么，从2开始到5之间的所有数加上5都是大于6的，也就是从下标0开始到下标2之间的数加上5都大于6，即<br>2+5&gt;6<br>3+5&gt;6<br>4+5&gt;6</p>
</li>
<li><p>所以，当l=0，r=nums.length-2时候，能够组成的三角形个数为count += r-l即3-0=3，共有3个。</p>
</li>
<li><p>然后当第三边为a=nums.length-2的时候，继续考察… </p>
</li>
</ul>
<p><strong>三、AC 代码：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int triangleNumber(int[] nums) &#123;</span><br><span class="line">        if(nums.length&lt;3) return 0;</span><br><span class="line">        int count&#x3D;0;</span><br><span class="line">        Arrays.sort(nums); &#x2F;&#x2F;like [2,3,4,5,6]</span><br><span class="line">        for(int a&#x3D;nums.length-1;a&gt;&#x3D;2;a-- )&#123;</span><br><span class="line">            int l&#x3D;0,r&#x3D;a-1;</span><br><span class="line">            while(l&lt;r)&#123;</span><br><span class="line">                if(nums[l]+nums[r]&gt;nums[a])&#123;</span><br><span class="line">                    &#x2F;&#x2F;nums[l]+nums[r]满足&gt;nums[a]，那么从l到r-1之间的所有元素加nums[r]都大于nums[a]</span><br><span class="line">                    count +&#x3D; r-l;</span><br><span class="line">                    r--;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    l++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return count;     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>四、总结：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array</span><br></pre></td></tr></table></figure>
</div><script src="/js/jquery.min.js"></script><script src="/js/main.js"></script></body></html>